if (self.CavalryLogger) { CavalryLogger.start_js(["0M1ZO"]); }

__d('TextAreaWithLineLimit.react',['cx','AbstractTextArea.react','React','TextAreaControl','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={},this.$TextAreaWithLineLimit2=function(event){var r=event.target.value;if(this.$TextAreaWithLineLimit3(r))this.props.onChange(r);}.bind(this),this.$TextAreaWithLineLimit3=function(r){var s=r.split(/\r\n|\r|\n/);if(this.props.maxLines>0&&s.length>this.props.maxLines)return false;if(this.props.maxCharacterPerLine>0)for(var t=0;t<s.length;t++)if(s[t].length>this.props.maxCharacterPerLine)return false;return true}.bind(this),n}l.prototype.componentDidMount=function(){var m=this.refs.textArea.getTextFieldDOM();this.$TextAreaWithLineLimit1=new (c('TextAreaControl'))(m);this.$TextAreaWithLineLimit1.setAutogrow(true);this.$TextAreaWithLineLimit1.onupdate()};l.prototype.componentDidUpdate=function(){this.$TextAreaWithLineLimit1.onupdate()};l.prototype.componentWillUnmount=function(){this.$TextAreaWithLineLimit1=null};l.prototype.render=function(){var m=c('joinClasses')(this.props.className,"_3_8b");return c('React').createElement(c('AbstractTextArea.react'),babelHelpers['extends']({},this.props,{className:m,onChange:this.$TextAreaWithLineLimit2,onBlur:this.props.onLostFocus,ref:'textArea'}))};l.propTypes={onLostFocus:k.func,maxLines:k.number,maxCharacterPerLine:k.number,onChange:k.func.isRequired};l.defaultProps={maxLines:-1,maxCharacterPerLine:-1};f.exports=l}),null);
__d('AlbumUploaderContributor',['immutable'],(function a(b,c,d,e,f,g){f.exports=c('immutable').Record({id:null,title:null})}),null);
__d('SharedAlbumContributorsTokenizer.react',['fbt','AlbumUploaderContributor','React','SearchableEntry','XUITokenizer.react'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.onAddEntryAttempt=function(r){var s=this.hasEntry(r);if(s)return;this.props.onContributorAdded(new (c('AlbumUploaderContributor'))({id:r.getUniqueID(),title:r.getTitle()}))}.bind(this),this.onRemoveEntryAttempt=function(r){var s=this.hasEntry(r);if(!s)return;this.props.onContributorRemoved(new (c('AlbumUploaderContributor'))({id:r.getUniqueID(),title:r.getTitle()}))}.bind(this),n}l.prototype.render=function(){'use strict';var m={};m[this.props.ownerID]=true;var n=this.props.entries.map(function(o){return new (c('SearchableEntry'))({uniqueID:o.id,title:o.title})});return c('React').createElement(c('XUITokenizer.react'),{className:this.props.className,placeholder:this.props.placeholder,entries:n,searchSource:this.props.dataSource,onAddEntryAttempt:this.onAddEntryAttempt,onRemoveEntryAttempt:this.onRemoveEntryAttempt,excludedEntries:m,focusedOnInit:this.props.focusedOnInit,disabled:this.props.disabled})};l.prototype.hasEntry=function(m){'use strict';var n=m.getUniqueID(),o=this.props.entries;return o.some(function(p){return p.id===n})};l.propTypes={className:k.string,dataSource:k.object.isRequired,disabled:k.bool,entries:k.array.isRequired,focusedOnInit:k.bool,onContributorAdded:k.func.isRequired,onContributorRemoved:k.func.isRequired,ownerID:k.oneOfType([k.number,k.string]).isRequired,placeholder:k.string};l.defaultProps={disabled:false,focusedOnInit:true,placeholder:h._("Enter friends' names")};f.exports=l}),null);
__d('ProfileFeaturedAlbumsToggle.react',['cx','fbt','FBToggleSwitch.react','InlineBlock.react','XUIGrayText.react','XUIText.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;l.prototype.render=function(){var m=this.props.checked?i._("ON"):i._("OFF");return c('React').createElement('div',{className:"_5-i4"},c('React').createElement('label',null,c('React').createElement(c('InlineBlock.react'),{alignv:'middle',height:20},this.$ProfileFeaturedAlbumsToggle1(i._("Feature on Profile")),c('React').createElement(c('FBToggleSwitch.react'),{animate:true,checked:this.props.checked,className:"_2pis _2pii",disabled:this.props.disabled,onToggle:this.props.onToggle}),this.$ProfileFeaturedAlbumsToggle1(m))),c('React').createElement(c('XUIGrayText.react'),{display:'block',size:'small'},i._("Featured albums are public so anyone who visits your profile can see them.")))};l.prototype.$ProfileFeaturedAlbumsToggle1=function(m){if(this.props.disabled)return c('React').createElement(c('XUIGrayText.react'),{shade:'light'},m);return c('React').createElement(c('XUIText.react'),{className:this.props.checked?"_lsx":''},m)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d('CollectionThumbnail.react',['cssVar','cx','fbt','BackgroundImage.react','Focus','React','isKeyActivation','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$CollectionThumbnail2=function(t){if(c('isKeyActivation')(t))this.props.onClick&&this.props.onClick(t);}.bind(this),p}n.prototype.focus=function(){c('Focus').set(this.$CollectionThumbnail1,true)};n.prototype.render=function(){return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_2vw6"),onClick:this.props.onClick,onKeyDown:this.$CollectionThumbnail2,tabIndex:0,ref:function(o){return this.$CollectionThumbnail1=o}.bind(this),role:'button'},c('React').createElement(c('BackgroundImage.react'),{backgroundSize:'cover',height:parseInt("140px",10),src:this.props.thumbnailURL,width:parseInt("140px",10)}),c('React').createElement('div',{className:"_3iom"},c('React').createElement('div',{className:"_3ion"},c('React').createElement(c('BackgroundImage.react'),{backgroundPosition:'100% 50%',className:"_1x7m",height:12,src:this.props.privacyIcon,width:12}),this.props.collectionName),c('React').createElement('div',{className:"_3ioo"},j._({"*":"{number of posts} posts","_1":"1 post"},[j.plural(this.props.numPosts,'number of posts')]))))};n.propTypes={collectionID:m.oneOfType([m.string,m.number]).isRequired,collectionName:m.string.isRequired,className:m.string,numPosts:m.number.isRequired,onClick:m.func,thumbnailURL:m.string.isRequired,privacyIcon:m.string};f.exports=n}),null);
__d("XCollectionCreateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/collection\/create\/",{})}),null);
__d("XCollectionCreationDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/collections\/creation_dialog\/",{composer_id:{type:"String"},privacy_row:{type:"String"},privacy_placeholder_id:{type:"String"},shared_album_privacy_placeholder_id:{type:"String"}})}),null);
__d('ReactComposerCollectionCreationDialog.react',['cx','fbt','ix','AsyncRequest','CurrentUser','DOM','DOMContainer.react','Image.react','immutable','PrivacyConst','PrivacySelector','ProfileFeaturedAlbumsToggle.react','ProfileSetsGatingConfig','React','SharedAlbumContributorsTokenizer.react','SimpleXUIDialog','TextAreaWithLineLimit.react','XCollectionCreateController','XCollectionCreationDialogController','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUISpinner.react','XUITextInput.react','$'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;k=babelHelpers.inherits(m,c('React').PureComponent);l=k&&k.prototype;function m(n){l.constructor.call(this,n);this.$ReactComposerCollectionCreationDialog18=function(){this.setState({creatingAlbum:true});var o=c('XCollectionCreateController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(o).setMethod('POST').setData({title:this.$ReactComposerCollectionCreationDialog15(),contributors:this.state.contributors.map(function(p){return p.id}).toArray(),description:this.$ReactComposerCollectionCreationDialog16(),privacyx:this.$ReactComposerCollectionCreationDialog17(),should_feature:this.state.feature}).setHandler(function(p){this.setState({creatingAlbum:false});this.props.onAlbumCreated(p.payload.collectionThumbnailData)}.bind(this)).setErrorHandler(this.$ReactComposerCollectionCreationDialog19).send()}.bind(this);this.$ReactComposerCollectionCreationDialog19=function(o){this.setState({creatingAlbum:false});c('SimpleXUIDialog').show(i._("Your album could not be created right now. Please try again later."),i._("Sorry, an error has occurred..."))}.bind(this);this.$ReactComposerCollectionCreationDialog22=function(o){var p=this.state.contributors,q=p.add(o);this.setState({contributors:q})}.bind(this);this.$ReactComposerCollectionCreationDialog23=function(o){var p=this.state.contributors,q=p['delete'](o);this.setState({contributors:q})}.bind(this);this.$ReactComposerCollectionCreationDialog27=function(o){var p=this.$ReactComposerCollectionCreationDialog12();if(!p)return;this.setState({feature:o});if(o){p.selectOption(c('PrivacyConst').PostParam.EVERYONE.toString());p.disable()}else p.enable();}.bind(this);this.state={albumTitle:null,albumTitleHasBlurred:false,albumDescription:null,albumOwnerID:'',contributors:c('immutable').OrderedSet(),contributorSource:null,creatingAlbum:false,feature:false,privacySelectorLoaded:false}}m.prototype.componentWillMount=function(){m.$ReactComposerCollectionCreationDialog8[this.props.composerID]=this;this.$ReactComposerCollectionCreationDialog4=document.createElement('div');this.$ReactComposerCollectionCreationDialog4.setAttribute('id',this.$ReactComposerCollectionCreationDialog9());this.$ReactComposerCollectionCreationDialog5=document.createElement('div');this.$ReactComposerCollectionCreationDialog5.setAttribute('id',this.$ReactComposerCollectionCreationDialog10())};m.prototype.componentDidMount=function(){this.$ReactComposerCollectionCreationDialog3.layer.subscribe('hide',this.props.onCancel);var n=c('XCollectionCreationDialogController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(n).setMethod('GET').setReadOnly(true).setData({composer_id:this.props.composerID,privacy_placeholder_id:this.$ReactComposerCollectionCreationDialog9(),shared_album_privacy_placeholder_id:this.$ReactComposerCollectionCreationDialog10()}).setHandler(function(){return this.setState({privacySelectorLoaded:true})}.bind(this)).send()};m.prototype.componentDidUpdate=function(n,o){if(this.state.privacySelectorLoaded&&!o.privacySelectorLoaded)this.$ReactComposerCollectionCreationDialog2&&this.$ReactComposerCollectionCreationDialog2.focusInput();};m.prototype.componentWillUnmout=function(){m.$ReactComposerCollectionCreationDialog8[this.props.composerID]=null};m.prototype.componentWillUpdate=function(n,o){if(this.state.contributors.isEmpty()&&!o.contributors.isEmpty()){this.$ReactComposerCollectionCreationDialog11(this.$ReactComposerCollectionCreationDialog12(),this.$ReactComposerCollectionCreationDialog13())}else if(!this.state.contributors.isEmpty()&&o.contributors.isEmpty())this.$ReactComposerCollectionCreationDialog11(this.$ReactComposerCollectionCreationDialog13(),this.$ReactComposerCollectionCreationDialog12());};m.prototype.$ReactComposerCollectionCreationDialog12=function(){if(this.$ReactComposerCollectionCreationDialog6){return this.$ReactComposerCollectionCreationDialog6}else{this.$ReactComposerCollectionCreationDialog6=c('PrivacySelector').getAdamaSelectorInstance(c('$')(this.$ReactComposerCollectionCreationDialog9()));return this.$ReactComposerCollectionCreationDialog6}};m.prototype.$ReactComposerCollectionCreationDialog13=function(){if(this.$ReactComposerCollectionCreationDialog7){return this.$ReactComposerCollectionCreationDialog7}else{this.$ReactComposerCollectionCreationDialog7=c('PrivacySelector').getAdamaSelectorInstance(c('$')(this.$ReactComposerCollectionCreationDialog10()));return this.$ReactComposerCollectionCreationDialog7}};m.prototype.$ReactComposerCollectionCreationDialog11=function(n,o){if(!(n&&o))return;o.selectOption(n.getPostParam())};m.prototype.$ReactComposerCollectionCreationDialog9=function(){var n=this.props.composerID+'.cph';return n.replace(/\./g,'-')};m.prototype.$ReactComposerCollectionCreationDialog10=function(){return this.$ReactComposerCollectionCreationDialog9()+'s'};m.prototype.$ReactComposerCollectionCreationDialog14=function(){var n=this.$ReactComposerCollectionCreationDialog15();if(!n||!n.match(/\S+/)){return i._("Enter an album name").toString()}else return null;};m.prototype.$ReactComposerCollectionCreationDialog15=function(){return this.state.albumTitle};m.prototype.$ReactComposerCollectionCreationDialog16=function(){return this.state.albumDescription};m.prototype.$ReactComposerCollectionCreationDialog17=function(){var n=this.state.contributors.isEmpty()?this.$ReactComposerCollectionCreationDialog12():this.$ReactComposerCollectionCreationDialog13();if(n){return n.getPostParam()}else{var o=this.state.contributors.isEmpty()?c('$')(this.$ReactComposerCollectionCreationDialog9()):c('$')(this.$ReactComposerCollectionCreationDialog10()),p=c('DOM').scry(o,'select option[selected="1"]').pop();return p&&p.value}};m.prototype.$ReactComposerCollectionCreationDialog20=function(){var n=c('React').createElement(c('Image.react'),{className:"_5-hz",src:j("85428")}),o=c('React').createElement('span',{className:"_5-h-"},i._("Create"));return c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',className:"_5-h_"+(this.state.creatingAlbum?' '+"_5-i0":''),disabled:this.state.creatingAlbum||!this.state.privacySelectorLoaded||this.$ReactComposerCollectionCreationDialog14()!==null,image:n,label:o,onClick:this.$ReactComposerCollectionCreationDialog18,use:'confirm'})};m.prototype.$ReactComposerCollectionCreationDialog21=function(){return c('React').createElement(c('XUIDialogBody.react'),{className:"_5-i1 _5-i2"},c('React').createElement(c('XUISpinner.react'),{size:'large'}))};m.prototype.$ReactComposerCollectionCreationDialog24=function(){if(this.state.contributorSource==null){return c('React').createElement(c('XUISpinner.react'),{size:'small'})}else return c('React').createElement(c('SharedAlbumContributorsTokenizer.react'),{className:"_5-i3",dataSource:this.state.contributorSource,disabled:this.state.feature,entries:this.state.contributors.toArray(),focusedOnInit:false,ownerID:this.state.albumOwnerID,onContributorAdded:this.$ReactComposerCollectionCreationDialog22,onContributorRemoved:this.$ReactComposerCollectionCreationDialog23,placeholder:c('CurrentUser').isWorkUser()?i._("Enter coworkers' names"):i._("Enter friends' names")});};m.prototype.$ReactComposerCollectionCreationDialog25=function(){return c('React').createElement('div',null,c('React').createElement('div',{className:!this.state.contributors.isEmpty()?"hidden_elem":''},c('React').createElement(c('DOMContainer.react'),null,this.$ReactComposerCollectionCreationDialog4)),c('React').createElement('div',{className:this.state.contributors.isEmpty()?"hidden_elem":''},c('React').createElement(c('DOMContainer.react'),null,this.$ReactComposerCollectionCreationDialog5)))};m.prototype.$ReactComposerCollectionCreationDialog26=function(){if(!c('ProfileSetsGatingConfig').can_see_featured_creation)return null;return c('React').createElement(c('ProfileFeaturedAlbumsToggle.react'),{checked:this.state.feature,disabled:!this.state.contributors.isEmpty(),onToggle:this.$ReactComposerCollectionCreationDialog27})};m.prototype.$ReactComposerCollectionCreationDialog28=function(){return c('React').createElement(c('XUIDialogBody.react'),{className:"_5-i1"},c('React').createElement('div',null,c('React').createElement(c('XUITextInput.react'),{onBlur:function(n){this.setState({albumTitleHasBlurred:true})}.bind(this),onChange:function(n){return this.setState({albumTitle:n.target.value})}.bind(this),placeholder:i._("Album name"),ref:function(n){return this.$ReactComposerCollectionCreationDialog2=n}.bind(this),required:true,value:this.state.albumTitle,xuiError:this.state.albumTitleHasBlurred&&this.$ReactComposerCollectionCreationDialog14()})),c('React').createElement('div',null,c('React').createElement(c('TextAreaWithLineLimit.react'),{onChange:function(n){return this.setState({albumDescription:n})}.bind(this),placeholder:i._("Add a description"),ref:function(n){return this.$ReactComposerCollectionCreationDialog1=n}.bind(this),value:this.state.albumDescription})),c('CurrentUser').isWorkUser()?null:c('React').createElement('div',{className:"_5-i4"},c('React').createElement('label',null,i._("Add contributors"),this.$ReactComposerCollectionCreationDialog24())),this.$ReactComposerCollectionCreationDialog26(),c('React').createElement('div',{className:"_5-i4"},c('React').createElement('label',null,i._("Privacy"),this.$ReactComposerCollectionCreationDialog25())))};m.initContributorsField=function(n,o,p){var q=m.$ReactComposerCollectionCreationDialog8[n];q.setState({albumOwnerID:p,contributorSource:o})};m.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),babelHelpers['extends']({className:"_5-i5",ref:function(n){return this.$ReactComposerCollectionCreationDialog3=n}.bind(this)},this.props.dialogProps),c('React').createElement(c('XUIDialogTitle.react'),null,i._("Create Album")),this.state.privacySelectorLoaded?this.$ReactComposerCollectionCreationDialog28():this.$ReactComposerCollectionCreationDialog21(),c('React').createElement(c('XUIDialogFooter.react'),{className:"_5-i6"},c('React').createElement(c('XUIDialogCancelButton.react'),null),this.$ReactComposerCollectionCreationDialog20()))};m.$ReactComposerCollectionCreationDialog8={};f.exports=m}),null);
__d('ReactComposerCollectionsActions',['ReactComposerCollectionsActionTypes','ReactComposerDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h={showCollectionsSelector:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,sourceLoggingName:k,type:c('ReactComposerCollectionsActionTypes').SHOW_COLLECTION_SELECTOR})},hideCollectionsSelector:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,sourceLoggingName:k,type:c('ReactComposerCollectionsActionTypes').HIDE_COLLECTION_SELECTOR})},hideCollectionsSelectorWithoutLogging:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,suppressWaterfallLogging:true,type:c('ReactComposerCollectionsActionTypes').HIDE_COLLECTION_SELECTOR})},showCreationLayer:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,sourceLoggingName:k,type:c('ReactComposerCollectionsActionTypes').SHOW_CREATION_LAYER})},hideCreationLayer:function i(j,k){var l=arguments.length<=2||arguments[2]===undefined?false:arguments[2];c('ReactComposerDispatcher').dispatch({composerID:j,isCancel:l,sourceLoggingName:k,type:c('ReactComposerCollectionsActionTypes').HIDE_CREATION_LAYER})},showSharingSpaceCreationLayer:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,sourceLoggingName:k,type:c('ReactComposerCollectionsActionTypes').SHOW_SHARING_SPACE_CREATION_LAYER})},hideSharingSpaceCreationLayer:function i(j,k){var l=arguments.length<=2||arguments[2]===undefined?false:arguments[2];c('ReactComposerDispatcher').dispatch({composerID:j,isCancel:l,sourceLoggingName:k,type:c('ReactComposerCollectionsActionTypes').HIDE_SHARING_SPACE_CREATION_LAYER})}};f.exports=h}),null);
__d('SharingSpacesFunnelLogging',['FunnelLogger'],(function a(b,c,d,e,f,g){'use strict';var h='CHANNEL_EDIT_FUNNEL',i={startFunnel:function j(k){c('FunnelLogger').startFunnel(h);c('FunnelLogger').addFunnelTag(h,k)},logAction:function j(k){c('FunnelLogger').appendAction(h,k)},endFunnel:function j(k){c('FunnelLogger').addFunnelTag(h,k);c('FunnelLogger').endFunnel(h)}};f.exports=i}),null);
__d("XProfileSpacesCreateSpaceController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/spaces\/create_space\/",{})}),null);
__d('ReactComposerSharingSpaceCreationDialog.react',['cx','ix','AsyncRequest','Image.react','React','SharingSpacesFunnelLogging','SharingSpacesStrings','SimpleXUIDialog','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XProfileSpacesCreateSpaceController','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$ReactComposerSharingSpaceCreationDialog3=function(){c('SharingSpacesFunnelLogging').endFunnel('exit_channel_creation_canceled');this.props.onCancel()}.bind(this);this.$ReactComposerSharingSpaceCreationDialog7=function(){this.setState({creatingSharingSpace:true});var n=c('XProfileSpacesCreateSpaceController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(n).setMethod('POST').setData({title:this.$ReactComposerSharingSpaceCreationDialog5()}).setHandler(function(o){this.setState({creatingSharingSpace:false});this.$ReactComposerSharingSpaceCreationDialog6(o.payload.collectionThumbnailData)}.bind(this)).setErrorHandler(this.$ReactComposerSharingSpaceCreationDialog8).send()}.bind(this);this.$ReactComposerSharingSpaceCreationDialog8=function(n){this.setState({creatingSharingSpace:false});c('SimpleXUIDialog').show(c('SharingSpacesStrings').CREATION_SERVER_ERROR_MESSAGE,c('SharingSpacesStrings').CREATION_SERVER_ERROR_TITLE)}.bind(this);this.$ReactComposerSharingSpaceCreationDialog9=function(n){this.setState({sharingSpaceTitleHasBlurred:true})}.bind(this);this.$ReactComposerSharingSpaceCreationDialog10=function(n){this.setState({sharingSpaceTitle:n.target.value})}.bind(this);this.state={creatingSharingSpace:false,sharingSpaceTitle:null,sharingSpaceTitleHasBlurred:false}}l.prototype.componentDidMount=function(){this.$ReactComposerSharingSpaceCreationDialog1.layer.subscribe('hide',this.$ReactComposerSharingSpaceCreationDialog3)};l.prototype.$ReactComposerSharingSpaceCreationDialog4=function(){var m=this.$ReactComposerSharingSpaceCreationDialog5();if(!m||!m.match(/\S+/)){return c('SharingSpacesStrings').TITLE_REQUIRED_ERROR_MESSAGE.toString()}else return null;};l.prototype.$ReactComposerSharingSpaceCreationDialog5=function(){return this.state.sharingSpaceTitle};l.prototype.$ReactComposerSharingSpaceCreationDialog6=function(m){c('SharingSpacesFunnelLogging').endFunnel('exit_channel_created');this.props.onSharingSpaceCreated(m)};l.prototype.$ReactComposerSharingSpaceCreationDialog11=function(m){c('SharingSpacesFunnelLogging').logAction('focus_title_field')};l.prototype.$ReactComposerSharingSpaceCreationDialog12=function(){return c('React').createElement(c('XUIDialogBody.react'),{className:"_11pj"},c('React').createElement('div',null,c('React').createElement(c('XUITextInput.react'),{onBlur:this.$ReactComposerSharingSpaceCreationDialog9,onChange:this.$ReactComposerSharingSpaceCreationDialog10,onFocus:this.$ReactComposerSharingSpaceCreationDialog11,placeholder:c('SharingSpacesStrings').SPACE_CREATION_TITLE_FIELD_PLACEHOLDER,ref:function(m){return this.$ReactComposerSharingSpaceCreationDialog2=m}.bind(this),required:true,value:this.state.sharingSpaceTitle,xuiError:this.state.sharingSpaceTitleHasBlurred&&this.$ReactComposerSharingSpaceCreationDialog4()})))};l.prototype.$ReactComposerSharingSpaceCreationDialog13=function(){var m=c('React').createElement(c('Image.react'),{className:"_11pk",src:i("85428")}),n=c('React').createElement('span',{className:"_11pm"},c('SharingSpacesStrings').CREATE_BUTTON_TEXT);return c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',className:"_11pn"+(this.state.creatingSharingSpace?' '+"_11po":''),disabled:this.state.creatingSharingSpace||this.$ReactComposerSharingSpaceCreationDialog4()!==null,image:m,label:n,onClick:this.$ReactComposerSharingSpaceCreationDialog7,use:'confirm'})};l.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),babelHelpers['extends']({className:"_11pp",ref:function(m){return this.$ReactComposerSharingSpaceCreationDialog1=m}.bind(this)},this.props.dialogProps),c('React').createElement(c('XUIDialogTitle.react'),null,c('SharingSpacesStrings').SPACE_CREATION_DIALOG_HEADER),this.$ReactComposerSharingSpaceCreationDialog12(),c('React').createElement(c('XUIDialogFooter.react'),{className:"_11pq"},c('React').createElement(c('XUIDialogCancelButton.react'),null),this.$ReactComposerSharingSpaceCreationDialog13()))};f.exports=l}),null);
__d('ReactComposerCollectionSelector.react',['ix','cssVar','cx','fbt','AccessibleLayer','CollectionThumbnail.react','ContextualLayer.react','ContextualLayerAutoFlip','Grid.react','ReactComposerAudienceActions','ReactComposerCollectionCreationDialog.react','ReactComposerCollectionsActions','ReactComposerCollectionsStore','ReactComposerLoggingActions','ReactComposerLoggingName','ReactComposerSharingSpaceCreationDialog.react','InlineBlock.react','Image.react','LayerAutoFocus','LayerHideOnEscape','LayerFadeOnHide','LayerFadeOnShow','LayerHideOnBlur','LayerTabIsolation','Link.react','SharingSpacesFunnelLogging','SharingSpacesStrings','ShimButton.react','XUIAmbientNUX.react','XUIButton.react','XUICard.react','XUICardHeader.react','XUICardHeaderTitle.react','XUICardSection.react','XUIPopoverButton.react','XUISpinner.react','ReactComposerContextMixin','React','ReactDOM','fbglyph','focusWithinLayer','ifRequired','isKeyActivation'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n=c('Grid.react').GridItem,o=c('ReactComposerContextMixin').contextTypes;l=babelHelpers.inherits(p,c('React').PureComponent);m=l&&l.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=m.constructor).call.apply(q,[this].concat(t)),this.$ReactComposerCollectionSelector1=null,this.$ReactComposerCollectionSelector3=function(){if(!this.props.selectorVisible)c('ReactComposerCollectionsActions').showCollectionsSelector(this.context.composerID,c('ReactComposerLoggingName').COLLECTIONS_SELECTOR_BUTTON);}.bind(this),this.$ReactComposerCollectionSelector4=function(v){if(c('isKeyActivation')(v))this.$ReactComposerCollectionSelector5(v.nativeEvent);}.bind(this),this.$ReactComposerCollectionSelector5=function(v){c('ReactComposerAudienceActions').setCollectionID(this.context.composerID,c('ReactComposerLoggingName').COLLECTION_CLEAR_BUTTON,null);v.stopPropagation()}.bind(this),this.$ReactComposerCollectionSelector6=function(v){var w=arguments.length<=1||arguments[1]===undefined?c('ReactComposerLoggingName').OTHERS:arguments[1];if(!v&&this.props.selectorVisible)c('ReactComposerCollectionsActions').hideCollectionsSelector(this.context.composerID,w);}.bind(this),this.$ReactComposerCollectionSelector7=function(){c('ReactComposerCollectionsActions').hideCollectionsSelectorWithoutLogging(this.context.composerID);c('ReactComposerCollectionsActions').showCreationLayer(this.context.composerID,c('ReactComposerLoggingName').COLLECTIONS_SELECTOR_CREATE_BUTTON)}.bind(this),this.$ReactComposerCollectionSelector8=function(){c('ReactComposerCollectionsActions').hideCreationLayer(this.context.composerID,c('ReactComposerLoggingName').COLLECTIONS_CREATE_CANCEL_BUTTON,true);c('ReactComposerLoggingActions').collectionSelectorCancel(this.context.composerID,c('ReactComposerLoggingName').COLLECTIONS_CREATE_CANCEL_BUTTON)}.bind(this),this.$ReactComposerCollectionSelector9=function(v){c('ReactComposerCollectionsStore').addNewAlbum(this.context.composerID,v);c('ReactComposerCollectionsActions').hideCreationLayer(this.context.composerID,c('ReactComposerLoggingName').COLLECTIONS_CREATE_SUBMIT_BUTTON);c('ReactComposerLoggingActions').collectionSelectorDone(this.context.composerID,c('ReactComposerLoggingName').COLLECTIONS_CREATE_SUBMIT_BUTTON);this.$ReactComposerCollectionSelector10(v)}.bind(this),this.$ReactComposerCollectionSelector11=function(){c('ReactComposerCollectionsActions').hideCollectionsSelectorWithoutLogging(this.context.composerID);c('ReactComposerCollectionsActions').showSharingSpaceCreationLayer(this.context.composerID,c('ReactComposerLoggingName').COLLECTIONS_SELECTOR_CREATE_SHARING_SPACE_BUTTON);c('SharingSpacesFunnelLogging').startFunnel('entry_point_name_channel_picker')}.bind(this),this.$ReactComposerCollectionSelector12=function(){c('ReactComposerCollectionsActions').hideSharingSpaceCreationLayer(this.context.composerID,c('ReactComposerLoggingName').COLLECTIONS_CREATE_SHARING_SPACE_CANCEL_BUTTON,true);c('ReactComposerLoggingActions').collectionSelectorCancel(this.context.composerID,c('ReactComposerLoggingName').COLLECTIONS_CREATE_SHARING_SPACE_CANCEL_BUTTON)}.bind(this),this.$ReactComposerCollectionSelector13=function(v){c('ReactComposerCollectionsStore').addNewSharingSpace(this.context.composerID,v);c('ReactComposerCollectionsActions').hideSharingSpaceCreationLayer(this.context.composerID,c('ReactComposerLoggingName').COLLECTIONS_CREATE_SHARING_SPACE_SUBMIT_BUTTON);c('ReactComposerLoggingActions').collectionSelectorDone(this.context.composerID,c('ReactComposerLoggingName').COLLECTIONS_CREATE_SHARING_SPACE_SUBMIT_BUTTON);this.$ReactComposerCollectionSelector10(v)}.bind(this),r}p.prototype.componentDidUpdate=function(q,r){if(this.props.selectorVisible&&!q.selectorVisible)if(this.props.selectedCollectionID){var s=c('ReactDOM').findDOMNode(this.refs[this.props.selectedCollectionID]);if(s!==null&&this.$ReactComposerCollectionSelector1!==null){var t=c('ReactDOM').findDOMNode(this.$ReactComposerCollectionSelector1);if(t!==null)t.scrollTop=s.offsetTop;}}if(q.collections&&q.collections.isLoading()&&this.props.collections&&!this.props.collections.isLoading()){var u=c('ReactDOM').findDOMNode(this.$ReactComposerCollectionSelector2);u&&c('focusWithinLayer')(u,true)}};p.prototype.$ReactComposerCollectionSelector10=function(q){if(q.id==this.props.selectedCollectionID){c('ReactComposerAudienceActions').setCollectionID(this.context.composerID,c('ReactComposerLoggingName').COLLECTION_SELECTED,null)}else c('ReactComposerAudienceActions').setCollectionID(this.context.composerID,c('ReactComposerLoggingName').COLLECTION_SELECTED,q.id);this.$ReactComposerCollectionSelector6(false,c('ReactComposerLoggingName').COLLECTION_SELECTED);c('ifRequired')('ReactComposerPostToGroupActions',function(r){return r.unselectTab(this.context.composerID)}.bind(this))};p.prototype.$ReactComposerCollectionSelector14=function(q){if(q==null)return null;var r=c('ReactComposerCollectionsStore').getCollectionByID(this.context.composerID,q);if(r)return r.name;return null};p.prototype.$ReactComposerCollectionSelector15=function(q){if(q){var r=this.$ReactComposerCollectionSelector14(q);if(r)return r;}return k._("+ Album").toString()};p.prototype.$ReactComposerCollectionSelector16=function(){return c('React').createElement(c('ShimButton.react'),{className:(!this.props.selectedCollectionID&&!this.props.canCreateSharingSpace?"autofocus":'')+(' '+"_2vw6")+(' '+"_1xp0"),key:'addAlbumButton',onClick:this.$ReactComposerCollectionSelector7},c('React').createElement('div',{className:"_1xp2"},c('React').createElement('div',{className:"_1xp3"}),k._("Create Album")))};p.prototype.$ReactComposerCollectionSelector17=function(){return c('React').createElement(c('ShimButton.react'),{className:(!this.props.selectedCollectionID?"autofocus":'')+(' '+"_2vw6")+(' '+"_1xp0"),key:'addSharingSpaceButton',onClick:this.$ReactComposerCollectionSelector11},c('React').createElement('div',{className:"_1xp2"},c('React').createElement('div',{className:"_1xp3"}),c('SharingSpacesStrings').SHOW_SPACE_CREATION_BUTTON_TEXT))};p.prototype.$ReactComposerCollectionSelector18=function(){return c('React').createElement('div',{key:'albumsNullState',className:"_1d5t"},c('React').createElement('span',{className:"_1d5u"}),c('React').createElement('div',{className:"_1d5v"},k._("No albums to show")),c('React').createElement(c('XUIButton.react'),{label:k._("Create Album"),use:'confirm',onClick:this.$ReactComposerCollectionSelector7}))};p.prototype.$ReactComposerCollectionSelector19=function(){return c('React').createElement('div',{key:'sharingSpacesNullState'},c('React').createElement('span',{className:"_1xp4"}),c('React').createElement('div',{className:"_1d5v"},k._("No spaces to show")),c('React').createElement(c('XUIButton.react'),{label:k._("Create Sharing Space"),use:'confirm',onClick:this.$ReactComposerCollectionSelector11}))};p.prototype.$ReactComposerCollectionSelector20=function(){var q=this.props.collections&&this.props.collections.getValue(),r=this.props.canCreateSharingSpace?this.$ReactComposerCollectionSelector17():null;return [c('React').createElement('h1',{key:'sharingSpacesHeader'},c('SharingSpacesStrings').SHARING_SPACES_SELECTOR_HEADER),!q||!q.sharingSpaces||q.sharingSpaces.length===0?this.$ReactComposerCollectionSelector19():this.$ReactComposerCollectionSelector21('sharingSpacesGrid',r,q.sharingSpaces)]};p.prototype.$ReactComposerCollectionSelector22=function(){var q=this.props.collections&&this.props.collections.getValue(),r=this.$ReactComposerCollectionSelector16();return [this.props.showSharingSpaces?c('React').createElement('h1',{key:'albumsHeader'},k._("Albums")):null,!q||!q.albums||q.albums.length===0?this.$ReactComposerCollectionSelector18():this.$ReactComposerCollectionSelector21('albumsGrid',r,q.albums)]};p.prototype.$ReactComposerCollectionSelector21=function(q,r,s){var t=[r];if(s)t.push(s.map(function(u){return c('React').createElement(n,{ref:u.id,key:u.id,className:u.id===this.props.selectedCollectionID?"_5zfq":''},c('React').createElement(c('CollectionThumbnail.react'),{className:u.id===this.props.selectedCollectionID?"autofocus":'',collectionID:u.id,collectionName:u.name,numPosts:u.numPosts,onClick:function(){return this.$ReactComposerCollectionSelector10(u)}.bind(this),thumbnailURL:u.thumbnailURL,privacyIcon:u.privacyIcon}))}.bind(this)));return c('React').createElement(c('Grid.react'),{key:q,className:"_1d5w",cols:2,fixed:false},t)};p.prototype.$ReactComposerCollectionSelector23=function(){if(!this.props.collections){return null}else return c('React').createElement(c('ContextualLayer.react'),{behaviors:{AccessibleLayer:c('AccessibleLayer'),ContextualLayerAutoFlip:c('ContextualLayerAutoFlip'),LayerAutoFocus:c('LayerAutoFocus'),LayerHideOnBlur:c('LayerHideOnBlur'),LayerHideOnEscape:c('LayerHideOnEscape'),LayerFadeOnShow:c('LayerFadeOnShow'),LayerFadeOnHide:c('LayerFadeOnHide'),LayerTabIsolation:c('LayerTabIsolation')},contextRef:function(){return this.refs.collectionSelectorTrigger}.bind(this),onToggle:this.$ReactComposerCollectionSelector6,position:'below',shown:this.props.selectorVisible},c('React').createElement(c('XUICard.react'),{className:"_5ze9"},c('React').createElement(c('XUICardHeader.react'),{className:"_5zea",type:'primary'},c('React').createElement(c('XUICardHeaderTitle.react'),null,k._("Albums"))),c('React').createElement(c('XUICardSection.react'),{ref:function(q){return this.$ReactComposerCollectionSelector1=q}.bind(this),className:"_5zeh"},!this.props.collections||this.props.collections.isLoading()?c('React').createElement('div',{className:"_2n10"},c('React').createElement(c('XUISpinner.react'),{size:'large'})):c('React').createElement('div',{ref:function(q){return this.$ReactComposerCollectionSelector2=q}.bind(this)},this.props.showSharingSpaces?this.$ReactComposerCollectionSelector20():null,this.$ReactComposerCollectionSelector22()))));};p.prototype.$ReactComposerCollectionSelector24=function(){if(this.props.creationLayerVisible){return c('React').createElement(c('ReactComposerCollectionCreationDialog.react'),{composerID:this.context.composerID,dialogProps:{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerFadeOnShow:c('LayerFadeOnShow')},causalElementRef:function(){return this.refs.collectionSelectorTrigger}.bind(this),shown:this.props.creationLayerVisible,width:parseInt("375px",10)},onCancel:this.$ReactComposerCollectionSelector8,onAlbumCreated:this.$ReactComposerCollectionSelector9})}else return null;};p.prototype.$ReactComposerCollectionSelector25=function(){if(this.props.sharingSpaceCreationLayerVisible){return c('React').createElement(c('ReactComposerSharingSpaceCreationDialog.react'),{composerID:this.context.composerID,dialogProps:{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerFadeOnShow:c('LayerFadeOnShow')},causalElementRef:function(){return this.refs.collectionSelectorTrigger}.bind(this),shown:this.props.sharingSpaceCreationLayerVisible,width:parseInt("375px",10)},onCancel:this.$ReactComposerCollectionSelector12,onSharingSpaceCreated:this.$ReactComposerCollectionSelector13})}else return null;};p.prototype.$ReactComposerCollectionSelector26=function(){return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.collectionSelectorTrigger}.bind(this),shown:this.props.showAnyPostTypeNux,onCloseButtonClick:this.props.onAnyPostTypeNuxClose,position:this.props.alternateTriggerComponent?'below':'above'},k._("Now you can add posts, check-ins and more to albums"))};p.prototype.render=function(){var q=!!this.$ReactComposerCollectionSelector14(this.props.selectedCollectionID);return c('React').createElement(c('InlineBlock.react'),{className:'uiContextualLayerParent'},this.props.alternateTriggerComponent?c('React').createElement(c('Link.react'),{role:'button',onClick:this.$ReactComposerCollectionSelector3,ref:'collectionSelectorTrigger'},this.props.alternateTriggerComponent):c('React').createElement(c('XUIPopoverButton.react'),{className:"_5ze8",label:this.$ReactComposerCollectionSelector15(this.props.selectedCollectionID),onClick:this.$ReactComposerCollectionSelector3,ref:'collectionSelectorTrigger',use:'confirm',chevron:q?c('React').createElement(c('Image.react'),{onClick:this.$ReactComposerCollectionSelector5,onKeyDown:this.$ReactComposerCollectionSelector4,role:'button',src:h("114707"),tabIndex:0}):null}),this.$ReactComposerCollectionSelector23(),this.$ReactComposerCollectionSelector24(),this.$ReactComposerCollectionSelector25(),this.$ReactComposerCollectionSelector26())};p.defaultProps={collections:null,creationLayerVisible:false,sharingSpaceCreationLayerVisible:false,selectedCollectionID:null,selectorVisible:false,showAnyPostTypeNux:false};p.contextTypes=o;f.exports=p}),null);
__d('ReactComposerCollectionSelectorContainer.react',['React','ReactComponentWithPureRenderMixin','ReactComposerAudienceStore','ReactComposerCollectionSelector.react','ReactComposerCollectionsStore','ReactComposerPropsAndStoreBasedStateMixin','SimpleNUXMessage','SimpleNUXMessageTypes'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerCollectionSelectorContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAudienceStore'),c('ReactComposerCollectionsStore'))],propTypes:{alternateTriggerComponent:h.element,addAnyPostToAlbum:h.bool,canCreateSharingSpace:h.bool.isRequired,showSharingSpaces:h.bool.isRequired},statics:{calculateState:function j(k,l){return {collections:c('ReactComposerCollectionsStore').getCollections(k),selectedCollectionID:c('ReactComposerAudienceStore').getCollectionID(k),isSelectorVisible:c('ReactComposerCollectionsStore').isSelectorVisible(k),isCreationLayerVisible:c('ReactComposerCollectionsStore').isCreationLayerVisible(k),isSharingSpaceCreationLayerVisible:c('ReactComposerCollectionsStore').isSharingSpaceCreationLayerVisible(k),showAnyPostTypeNux:l.addAnyPostToAlbum&&!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').ALBUMSV2_ANY_POST_TYPE_WWW)}}},_onAnyPostTypeNuxClose:function j(){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').ALBUMSV2_ANY_POST_TYPE_WWW);this.setState({showAnyPostTypeNux:false})},render:function j(){return c('React').createElement(c('ReactComposerCollectionSelector.react'),{alternateTriggerComponent:this.props.alternateTriggerComponent,collections:this.state.collections,creationLayerVisible:this.state.isCreationLayerVisible,sharingSpaceCreationLayerVisible:this.state.isSharingSpaceCreationLayerVisible,selectedCollectionID:this.state.selectedCollectionID,selectorVisible:this.state.isSelectorVisible,showAnyPostTypeNux:this.state.showAnyPostTypeNux,onAnyPostTypeNuxClose:this._onAnyPostTypeNuxClose,canCreateSharingSpace:this.props.canCreateSharingSpace,showSharingSpaces:this.props.showSharingSpaces})}});f.exports=i}),null);
__d('ReactComposerSelectedCollectionIndicator.react',['ix','cx','Image.react','Link.react','React','ReactComposerAudienceActions','ReactComposerContextMixin','ReactComposerLoggingName','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('ReactComposerContextMixin').contextTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerSelectedCollectionIndicator1=function(s){c('ReactComposerAudienceActions').setCollectionID(this.context.composerID,c('ReactComposerLoggingName').COLLECTION_CLEAR_BUTTON,null);s.stopPropagation()}.bind(this),o}m.prototype.render=function(){return this.props.selectedCollectionName?c('React').createElement('div',{className:"_2e8c"},c('React').createElement(c('Image.react'),{className:"_2e8d",src:h("124973")}),c('React').createElement('span',{className:"_2e8e"},this.props.selectedCollectionName),c('React').createElement(c('Link.react'),{onClick:this.$ReactComposerSelectedCollectionIndicator1},c('React').createElement(c('Image.react'),{className:"_2e8f",src:h("124318")}))):null};m.contextTypes=l;f.exports=m}),null);
__d('ReactComposerSelectedCollectionIndicatorContainer.react',['React','ReactComponentWithPureRenderMixin','ReactComposerAudienceStore','ReactComposerCollectionsStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerSelectedCollectionIndicator.react'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').createClass({displayName:'ReactComposerSelectedCollectionIndicatorContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAudienceStore'))],statics:{calculateState:function i(j,k){var l=null,m=c('ReactComposerAudienceStore').getCollectionID(j);if(m){var n=c('ReactComposerCollectionsStore').getCollectionByID(j,m);l=n&&n.name}return {selectedCollectionName:l}}},render:function i(){return c('React').createElement(c('ReactComposerSelectedCollectionIndicator.react'),{selectedCollectionName:this.state.selectedCollectionName})}});f.exports=h}),null);